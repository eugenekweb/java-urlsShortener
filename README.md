#### Ковалёв Евгений. 
#### Учебный проект по курсу "Программирование на языке Java". МИФИ, магистратура ИИКС, 1 курс

## Итоговый проект «Сервис коротких ссылок»

**Этот проект представляет собой многпользовательское консольное приложение для сокращения URL-адресов. Пользователи могут создавать свои короткие ссылки, управлять их параметрами и переходить по ним.**

Приложение не использует никаких БД или файлов для хранения информации о пользователях и их ссылках. Вся информация сохраняется только пока приложение работает.

## Как пользоваться сервисом

### Клонирование репозитория

Для начала работы с приложением клонируйте репозиторий и перейдите в папку с проектом:

```bash
git clone https://github.com/eugenekweb/java-urlsShortener.git
```

### Сборка проекта

Проект использует Maven для сборки. Убедитесь, что у вас установлен Maven, затем выполните следующую команду:

```bash
mvn clean install
```

### Зависимости

Проект использует библиотеку Lombok для упрощения кода. Убедитесь, что у вас установлен плагин Lombok в вашей IDE (например, IntelliJ IDEA).

### Настройка конфигурации приложения

Для настройки параметров работы приложения и указания значений по умолчанию используется файл `application.properties`:

```properties
url.domain=site.loc
url.length=6
url.default.lifetime.hours=24
url.default.lifetime.min=1
url.default.clicks.limit=3
```

- `url.domain`: Ваш домен для коротких ссылок.
- `url.length`: Длина сгенерированного пути короткой ссылки.
- `url.default.lifetime.hours`: Время жизни ссылки по умолчанию в часах.
- `url.default.lifetime.min`: Минимальное время жизни ссылки в часах (если пользователь пытается указать меньше).
- `url.default.clicks.limit`: Лимит кликов по ссылке по умолчанию.

## Меню приложения

Меню приложения имеет два уровня: **Меню входа** и **Главное меню**.

### Меню входа

При первом запуске приложения откроется **Меню входа**:

```
=== Меню входа ===
1. Войти и создать ссылку / управление ссылками
2. Зарегистрироваться и создать ссылку
3. Завершить работу (close)
```
_Дополнительно в рамках проекта было реализовано создание и авторизация по имени пользователя (помимо обзательного UUID). Это сделано для удобства работы с консолью, т.к. запомнить свой UUID пользователю крайне трудно._

#### Команды меню входа:
1. **Войти и создать ссылку / управление ссылками**: Вход существующего пользователя по имени или UUID.
2. **Зарегистрироваться и создать ссылку**: Создание нового пользователя (имя + UUID) и дальнейшая работа со ссылками.
3. **Завершить работу (close)**: Закрытие приложения.

### Главное меню

После успешного входа или регистрации открывается **Главное меню**:

_После авторизации пользователя дополнительно выводится для напоминания его UUID._

```
=== Главное меню ===
Пользователь: [Имя пользователя]
1. Создать короткую ссылку
2. Показать список моих ссылок
3. Перейти по ссылке
4. Просмотреть статус ссылки
5. Изменить лимит кликов
6. Изменить время жизни ссылки
7. Удалить ссылку
8. Выйти из аккаунта (exit)
```

#### Команды главного меню:
1. **Создать короткую ссылку**: Создает новую короткую ссылку на основе введенного оригинального URL.
2. **Показать список моих ссылок**: Отображает все ваши короткие ссылки с текущими параметрами.
3. **Перейти по ссылке**: Переходит по указанной короткой ссылке и открывает ее в браузере.
4. **Просмотреть статус ссылки**: Показывает текущий статус выбранной ссылки (активна ли она, сколько кликов осталось, время до истечения).
5. **Изменить лимит кликов**: Позволяет изменить максимальное количество переходов по ссылке.
6. **Изменить время жизни ссылки**: Позволяет установить новое время жизни для ссылки.
7. **Удалить ссылку**: Удаляет выбранную ссылку.
8. **Выйти из аккаунта (exit)**: Выход из текущего аккаунта и возврат к меню входа.

## Пример использования

### Вход в систему (**меню входа**)

1. Введите `1` для входа в систему.
2. Введите имя пользователя или UUID для входа. Если введенный текст является допустимым UUID, система попытается найти пользователя по UUID. В противном случае она будет искать пользователя по имени.

Пример:
```
Введите имя пользователя или UUID для входа.
> user123
```

### Регистрация нового пользователя (**меню входа**)

1. Введите `2` для регистрации нового пользователя.
2. Введите уникальное имя пользователя. Если просто нажать Enter, система сгенерирует имя для вас.

Пример:
```
Введите уникальное имя пользователя для регистрации.
Если просто нажать Enter, Вам будет сгенерировано уникальное имя.
> newuser
```

### Создание короткой ссылки (**главное меню**)

1. Введите `1` для создания новой короткой ссылки.
2. Введите оригинальный URL, а также, опционально, время жизни и лимит кликов.

_Если опциональные параметры не ввести, подтянутся значения по умолчанию из файла конфигурации._

Пример:
```
Введите оригинальную ссылку:
> https://example.com
Хотите установить своё время жизни ссылки? (да/**нет**)
По умолчанию (часы): 24
> да
Введите время жизни в часах:
> 48
Хотите установить свой лимит кликов? (да/**нет**)
По умолчанию (клики): 3
> да
Введите лимит кликов:
> 10
```

### Просмотр списка ссылок

1. Введите `2` для просмотра всех ваших коротких ссылок.

Пример:
```
Ваши ссылки:
1. http://site.loc/ODLxuJ | Активна | Осталось кликов: 10 | Осталось время жизни: 0 дн. 4 ч. 32 мин. | Оригинальная ссылка: https://example.com
```

### Переход по ссылке

1. Введите `3` для перехода по ссылке.
2. Введите короткий путь ссылки, чтобы перейти по ней.

Пример:
```
Введите короткий путь ссылки:
> ODLxuJ
Ссылка открыта в браузере
```

### Просмотр статуса ссылки

1. Введите `4` для просмотра статуса ссылки.
2. Введите короткий путь ссылки, чтобы просмотреть ее статус.

Пример:
```
Введите короткий путь ссылки:
> ODLxuJ
http://site.loc/ODLxuJ | Активна | Осталось кликов: 9 | Осталось время жизни: 0 дн. 9 ч. 42 мин. | Оригинальная ссылка: https://example.com
```

### Изменение лимита кликов

1. Введите `5` для изменения лимита кликов.
2. Введите короткий путь ссылки и новый лимит кликов.

Пример:
```
Введите короткий путь ссылки:
> ODLxuJ
Текущий статус ссылки:
http://site.loc/ODLxuJ | Активна | Осталось кликов: 9 | Осталось время жизни: 0 дн. 9 ч. 42 мин. | Оригинальная ссылка: https://example.com

Введите новый лимит кликов:
> 20
Лимит кликов обновлен
http://site.loc/ODLxuJ | Активна | Осталось кликов: 20 | Осталось время жизни: 0 дн. 9 ч. 42 мин. | Оригинальная ссылка: https://example.com
```

### Изменение времени жизни ссылки

1. Введите `6` для изменения времени жизни ссылки.
2. Введите короткий путь ссылки и новое время жизни.

Пример:
```
Введите короткий путь ссылки:
> ODLxuJ
Текущий статус ссылки:
http://site.loc/ODLxuJ | Активна | Осталось кликов: 20 | Осталось время жизни: 0 дн. 9 ч. 42 мин. | Оригинальная ссылка: https://example.com

Введите новое время жизни ссылки (в часах от текущего времени):
> 72
Время жизни обновлено
http://site.loc/ODLxuJ | Активна | Осталось кликов: 20 | Осталось время жизни: 3 дн. 0 ч. 0 мин. | Оригинальная ссылка: https://example.com
```

### Удаление ссылки

1. Введите `7` для удаления ссылки.
2. Введите короткий путь ссылки, которую хотите удалить.

Пример:
```
Введите короткий путь ссылки:
> ODLxuJ
Ссылка успешно удалена
```

### Выход из аккаунта

1. Введите `8` для выхода из аккаунта.

Пример:
```
Выход из аккаунта выполнен
```
